syntax = "proto3";


service Modeling {
    rpc GetUpdate (UpdateRequest) returns (stream UpdateResponse) {}
    rpc GetMap (Empty) returns (stream Map) {}
}

message Metadata {
    enum statusCode{
        UNDEFINED = 0;
        SUCCESS = 1;
        ERROR = 2;

    }
    statusCode status = 1;
    int32  request_id = 2;
}

message UpdateRequest {
    Metadata meta = 1;
}

message UpdateResponse {
    Metadata meta = 1;
    State state = 2;

}

message Map {
    Metadata meta = 1;
    // get buildings
    message Building{
        int32 id=1; //unique key
        int32 type = 2; // building specification (house, road, clinic)
        int32 coord_x = 3; // location on plain
        int32 coord_y = 4;
        int32 width = 5; // size of building
        int32 length = 6;
        int32 angle = 7; // angle from North going by hour hand
    }
    Building building = 2;
}

message State {
  // people statuses and coordinates
    int32 id =1;
    int32 type = 2;
    int32 coord_x = 3;
    int32 coord_y = 4;
}

message Empty{
}